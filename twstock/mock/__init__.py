# -*- coding: utf-8 -*-

import json


TSE_2330_TW = ["""
{
    "cachedAlive": 23580,
    "exKey": "if_tse_2330.tw_zh-tw.null",
    "msgArray": [
        {
            "a": "580.0000_581.0000_582.0000_583.0000_584.0000_",
            "b": "579.0000_578.0000_577.0000_576.0000_575.0000_",
            "bp": "0",
            "c": "2330",
            "ch": "2330.tw",
            "d": "20211007",
            "ex": "tse",
            "f": "596_491_841_792_450_",
            "fv": "92",
            "g": "13_187_364_633_530_",
            "h": "582.0000",
            "i": "24",
            "ip": "0",
            "it": "12",
            "l": "572.0000",
            "mt": "000000",
            "n": "\u53f0\u7a4d\u96fb",
            "nf": "\u53f0\u7063\u7a4d\u9ad4\u96fb\u8def\u88fd\u9020\u80a1\u4efd\u6709\u9650\u516c\u53f8",
            "o": "575.0000",
            "oa": "581.0000",
            "ob": "580.0000",
            "ot": "14:30:00",
            "ov": "56054",
            "oz": "580.0000",
            "p": "0",
            "ps": "3391",
            "pz": "580.0000",
            "s": "3403",
            "t": "13:30:00",
            "tlong": "1633588200000",
            "ts": "0",
            "tv": "3403",
            "u": "628.0000",
            "v": "27785",
            "w": "514.0000",
            "y": "571.0000",
            "z": "580.0000"
        }
    ],
    "queryTime": {
        "sessionFromTime": -1,
        "sessionLatestTime": -1,
        "sessionStr": "UserSession",
        "showChart": false,
        "stockInfo": 160242,
        "stockInfoItem": 2030,
        "sysDate": "20211008",
        "sysTime": "06:42:20"
    },
    "referer": "",
    "rtcode": "0000",
    "rtmessage": "OK",
    "userDelay": 5000
}
""","""
{
    "cachedAlive": 17912,
    "exKey": "if_tse_2330.tw_zh-tw.null",
    "msgArray": [
        {
            "a": "575.0000_576.0000_577.0000_578.0000_579.0000_",
            "b": "574.0000_573.0000_572.0000_571.0000_570.0000_",
            "bp": "0",
            "c": "2330",
            "ch": "2330.tw",
            "d": "20211008",
            "ex": "tse",
            "f": "109_521_423_231_426_",
            "fv": "43",
            "g": "272_743_539_437_1929_",
            "h": "583.0000",
            "i": "24",
            "ip": "0",
            "it": "12",
            "l": "573.0000",
            "mt": "000000",
            "n": "\u53f0\u7a4d\u96fb",
            "nf": "\u53f0\u7063\u7a4d\u9ad4\u96fb\u8def\u88fd\u9020\u80a1\u4efd\u6709\u9650\u516c\u53f8",
            "o": "582.0000",
            "oa": "579.0000",
            "ob": "578.0000",
            "ot": "14:30:00",
            "ov": "32079",
            "oz": "578.0000",
            "p": "0",
            "ps": "2797",
            "pz": "575.0000",
            "s": "2799",
            "t": "13:30:00",
            "tlong": "1633674600000",
            "ts": "0",
            "tv": "2799",
            "u": "638.0000",
            "v": "18204",
            "w": "522.0000",
            "y": "580.0000",
            "z": "575.0000"
        }
    ],
    "queryTime": {
        "sessionFromTime": -1,
        "sessionLatestTime": -1,
        "sessionStr": "UserSession",
        "showChart": false,
        "stockInfo": 70537,
        "stockInfoItem": 124,
        "sysDate": "20211011",
        "sysTime": "13:54:37"
    },
    "referer": "",
    "rtcode": "0000",
    "rtmessage": "OK",
    "userDelay": 5000
}
""","""
{
    "cachedAlive": 262,
    "exKey": "if_tse_2330.tw_zh-tw.null",
    "msgArray": [
        {
            "a": "575.0000_576.0000_577.0000_578.0000_579.0000_",
            "b": "574.0000_573.0000_572.0000_571.0000_570.0000_",
            "bp": "0",
            "c": "2330",
            "ch": "2330.tw",
            "d": "20211008",
            "ex": "tse",
            "f": "109_521_423_231_426_",
            "fv": "43",
            "g": "272_743_539_437_1929_",
            "h": "583.0000",
            "i": "24",
            "ip": "0",
            "it": "12",
            "l": "573.0000",
            "mt": "000000",
            "n": "\u53f0\u7a4d\u96fb",
            "nf": "\u53f0\u7063\u7a4d\u9ad4\u96fb\u8def\u88fd\u9020\u80a1\u4efd\u6709\u9650\u516c\u53f8",
            "o": "582.0000",
            "oa": "579.0000",
            "ob": "578.0000",
            "ot": "14:30:00",
            "ov": "32079",
            "oz": "578.0000",
            "p": "0",
            "ps": "2797",
            "pz": "575.0000",
            "s": "2799",
            "t": "13:30:00",
            "tlong": "1633674600000",
            "ts": "0",
            "tv": "2799",
            "u": "638.0000",
            "v": "18204",
            "w": "522.0000",
            "y": "580.0000",
            "z": "575.0000"
        }
    ],
    "queryTime": {
        "sessionFromTime": -1,
        "sessionLatestTime": -1,
        "sessionStr": "UserSession",
        "showChart": false,
        "stockInfo": 287352,
        "stockInfoItem": 1214,
        "sysDate": "20211011",
        "sysTime": "13:56:35"
    },
    "referer": "",
    "rtcode": "0000",
    "rtmessage": "OK",
    "userDelay": 5000
}
"""]


stock_list = {
    '2330': TSE_2330_TW,
}


def get_stock_info(stock_id, index=0):
    return json.loads(stock_list[stock_id][index])


def get_stocks_info(stocks):
    data = json.loads(stock_list['2330'][0])
    for _ in range(len(stocks)):
        data['msgArray'].append(data['msgArray'][0])
    return data

def get(stocks):
    if isinstance(stocks, list):
        return get_stocks_info(stocks)
    return get_stock_info(stocks)

